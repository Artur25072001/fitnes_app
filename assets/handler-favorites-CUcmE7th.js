import{g as c,r as d,c as f,h as v,d as l}from"./modal-utils-BhCvlTdW.js";const u=document.querySelector(".nav-link-favorites");let o=null,a=null;function p(e){const t=e.target.closest(".parts-trash_svg");if(!t)return;e.stopPropagation(),e.preventDefault();const r=t.dataset.trashId;console.log("Trash icon clicked for exercise:",r);const n=document.querySelector(".favorites-wrapper").querySelector(`[data-exercise-id="${r}"]`);n&&(n.remove(),l({id:r}),document.dispatchEvent(new Event("favoritesUpdated")))}async function s(){const e=c(),t=document.querySelector(".favorites-wrapper");if(t&&(t.innerHTML=""),e.length===0){d(0);return}for(const r of e)try{await f(r.id)}catch(i){console.error("Error fetching favorite:",r.id,i)}}function h(){const e=document.querySelector(".favorites-wrapper");o&&document.removeEventListener("favoritesUpdated",o),a&&e&&e.removeEventListener("click",a),s(),u.addEventListener("click",async()=>{}),o=()=>{s()},document.addEventListener("favoritesUpdated",o),a=t=>{p(t),v(t)},e&&e.addEventListener("click",a)}export{h as initFavoritesHandler,s as loadFavorites};
//# sourceMappingURL=handler-favorites-CUcmE7th.js.map
