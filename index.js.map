{"version":3,"file":"index.js","sources":["../src/main.js","../src/service/favorite-btn.js","../src/handlers/handler-main.js","../src/handlers/handler-modal.js","../src/handlers/handlers.js"],"sourcesContent":["import { fetchQuote, fetchMuscles } from './service/fetch.js';\nimport { updateActiveLink } from './service/transition.js';\ndocument.addEventListener('DOMContentLoaded', () => {\n  updateActiveLink();\n});\nfetchQuote();\nfetchMuscles();\n","import { addFavorite, removeFavorite, isFavorite } from '../service/storage.js';\nimport { fetchModal } from './fetch.js';\n\nexport function initFavoriteButton(exercise) {\n  const favoriteButtons = document.querySelector('.modal-favorites_btn');\n  if (!favoriteButtons) return;\n  console.log('Initializing favorite button for exercise:', exercise);\n  favoriteButtons.addEventListener('click', () => {\n    console.log('Favorite button clicked for exercise:', exercise);\n    const favorites = isFavorite(exercise);\n    if (favorites) {\n      console.log('Removing from favorites:', exercise);\n      removeFavorite(exercise);\n      fetchModal(exercise.id);\n    }\n    //\n    else {\n      console.log('Adding to favorites:', exercise);\n      addFavorite(exercise);\n      fetchModal(exercise.id);\n    }\n\n    document.dispatchEvent(new Event('favoritesUpdated'));\n    // Update button state or UI as needed\n  });\n}\n","const exercise_filter = document.querySelectorAll('.exercise-link');\nconst btnContainer = document.querySelector('.exercise-btn-container');\nconst search_form = document.querySelector('.filter-search_wrapper');\nconst muscles_list = document.querySelector('.exercise-muscles_list');\nconst equipment_list = document.querySelector('.exercise-equipment_list');\nconst listContainer = document.querySelector('.exercise-parts_list');\nconst exerciseModal = document.querySelector('.exercise-modal');\n\nimport {\n  fetchModal,\n  fetchMuscles,\n  fetchParts,\n  fetchEquipment,\n} from '../service/fetch.js';\nimport { initFavoriteButton } from '../service/favorite-btn.js';\n\nlet currentFilter = 'Muscles';\nlet base_category = 'abs';\nlet newId = 0;\nlet filter_parts = 'bodypart';\nlet CURRENT_page = 1;\n\nmuscles_list.addEventListener('click', event => {\n  const muscleItem = event.target.closest('.exercise-muscles_item');\n  if (muscleItem) {\n    let muscle_name = muscleItem\n      .querySelector('.exericise-muscles_header')\n      .textContent.trim()\n      .toLowerCase();\n    search_form.style.display = 'block';\n    CURRENT_page = 1;\n    currentFilter = 'Body Parts';\n    base_category = muscle_name;\n    filter_parts = `muscles=${muscle_name}`;\n    fetchParts(CURRENT_page, filter_parts);\n    exercise_filter.forEach(link => link.classList.remove('active'));\n    document.querySelector('.exercise-link.body_parts').classList.add('active');\n  }\n});\n\nequipment_list.addEventListener('click', event => {\n  const equipmentItem = event.target.closest('.exercise-equipment_item');\n  if (equipmentItem) {\n    let equipment_name = equipmentItem\n      .querySelector('.exercise-equipment_header')\n      .textContent.trim()\n      .toLowerCase();\n    search_form.style.display = 'block';\n    CURRENT_page = 1;\n    currentFilter = 'Body Parts';\n    base_category = equipment_name;\n    filter_parts = `equipment=${equipment_name}`;\n    fetchParts(CURRENT_page, filter_parts);\n    exercise_filter.forEach(link => link.classList.remove('active'));\n    document.querySelector('.exercise-link.body_parts').classList.add('active');\n  }\n});\n\nexercise_filter.forEach(link => {\n  link.addEventListener('click', function (e) {\n    e.preventDefault();\n    if (e.target.classList.contains('muscles')) {\n      search_form.style.display = 'none';\n      CURRENT_page = 1;\n      currentFilter = 'Muscles';\n      fetchMuscles();\n    } else if (e.target.classList.contains('body_parts')) {\n      console.log(filter_parts);\n      search_form.style.display = 'block';\n      CURRENT_page = 1;\n      currentFilter = 'Body Parts';\n      filter_parts = 'bodypart';\n      fetchParts(CURRENT_page, filter_parts);\n    } else if (e.target.classList.contains('equipment')) {\n      search_form.style.display = 'none';\n      CURRENT_page = 1;\n      currentFilter = 'Equipment';\n      fetchEquipment();\n    }\n  });\n});\n\nsearch_form.addEventListener('submit', event => {\n  event.preventDefault();\n  const searchInput = event.currentTarget.elements.search;\n  const query = searchInput.value.trim().toLowerCase();\n  if (query === '') return;\n  fetchParts(CURRENT_page, `muscles=${base_category}&keyword=${query}`);\n  search_form.reset();\n  search_form.elements.search.blur();\n});\n\nbtnContainer.addEventListener('click', event => {\n  const button = event.target.closest('.exercise-button');\n  if (button) {\n    btnContainer\n      .querySelector('.exercise-button.active')\n      ?.classList.remove('active');\n    button.classList.add('active');\n    CURRENT_page = parseInt(button.textContent);\n    switch (currentFilter) {\n      case 'Muscles':\n        fetchMuscles(CURRENT_page);\n        break;\n      case 'Body Parts':\n        fetchParts(CURRENT_page, filter_parts);\n        break;\n      case 'Equipment':\n        fetchEquipment(CURRENT_page);\n        break;\n    }\n  }\n});\n\nlistContainer?.addEventListener('click', async event => {\n  const target = event.target.closest('.start-link');\n  if (target) {\n    event.preventDefault();\n    const startId = target.id;\n    exerciseModal.classList.add('is-active');\n    fetchModal(startId);\n    setTimeout(() => {\n      initFavoriteButton({ id: startId });\n    }, 1000);\n    newId = startId;\n  }\n});\n\ndocument.addEventListener('favoritesUpdated', () => {\n  setTimeout(() => {\n    initFavoriteButton({ id: newId });\n  }, 1000);\n});\n","const exerciseModal = document.querySelector('.exercise-modal');\nconst ratingModal = document.querySelector('.rating-modal');\nconst form = document.querySelector('.form-rating');\n\nform?.addEventListener('submit', event => {\n  event.preventDefault();\n  const emailInput = document.querySelector('.form-input');\n  const commentInput = document.querySelector('.form-textarea');\n  const email = emailInput.value.trim();\n  const comment = commentInput.value.trim();\n  ratingForm.reset();\n});\n\nexerciseModal?.addEventListener('click', event => {\n  if (event.target.closest('.exercise-modal_close')) {\n    exerciseModal.classList.remove('is-active');\n  }\n  if (event.target.closest('.modal-rating_btn')) {\n    exerciseModal.classList.remove('is-active');\n    setTimeout(() => {\n      ratingModal.classList.add('is-active');\n    }, 250);\n  }\n  if (event.target === exerciseModal) {\n    exerciseModal.classList.remove('is-active');\n  }\n});\n\nratingModal?.addEventListener('click', event => {\n  if (\n    event.target.closest('.rating-modal_close') ||\n    event.target === ratingModal\n  ) {\n    ratingModal.classList.remove('is-active');\n  }\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    exerciseModal?.classList.remove('is-active');\n    ratingModal?.classList.remove('is-active');\n  }\n});\n","const links = document.querySelectorAll('.exercise-link');\nconst menuButton = document.getElementById('menuButton');\nconst menuContent = document.getElementById('menuContent');\nconst navitems = document.querySelectorAll('.nav-item');\n\nimport { smoothNavigate } from '../service/transition.js';\n\nlinks.forEach(link => {\n  link.addEventListener('click', function () {\n    document.querySelector('.exercise-link.active')?.classList.remove('active');\n    this.classList.add('active');\n  });\n});\n\nmenuButton.addEventListener('click', () => {\n  const isActive = menuButton.classList.toggle('is-active');\n  menuContent.classList.toggle('is-active');\n  menuButton.setAttribute('aria-expanded', isActive);\n});\n\ndocument.addEventListener('click', e => {\n  if (!menuButton.contains(e.target) && !menuContent.contains(e.target)) {\n    menuButton.classList.remove('is-active');\n    menuContent.classList.remove('is-active');\n    menuButton.setAttribute('aria-expanded', 'false');\n  }\n});\n\ndocument.addEventListener('click', e => {\n  const link = e.target.closest('.nav-link');\n  if (link && !e.defaultPrevented) {\n    e.preventDefault();\n    smoothNavigate(link.getAttribute('href'));\n  }\n});\n"],"names":["updateActiveLink","fetchQuote","fetchMuscles","initFavoriteButton","exercise","favoriteButtons","isFavorite","removeFavorite","fetchModal","addFavorite","exercise_filter","btnContainer","search_form","muscles_list","equipment_list","listContainer","exerciseModal","currentFilter","base_category","newId","filter_parts","CURRENT_page","event","muscleItem","muscle_name","fetchParts","link","equipmentItem","equipment_name","e","fetchEquipment","query","button","_a","target","startId","ratingModal","form","emailInput","commentInput","links","menuButton","menuContent","isActive","smoothNavigate"],"mappings":"8GAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDA,GACF,CAAC,EACDC,IACAC,EAAc,ECHP,SAASC,EAAmBC,EAAU,CAC3C,MAAMC,EAAkB,SAAS,cAAc,sBAAsB,EAChEA,IACL,QAAQ,IAAI,6CAA8CD,CAAQ,EAClEC,EAAgB,iBAAiB,QAAS,IAAM,CAC9C,QAAQ,IAAI,wCAAyCD,CAAQ,EAC3CE,EAAWF,CAAQ,GAEnC,QAAQ,IAAI,2BAA4BA,CAAQ,EAChDG,EAAeH,CAAQ,EACvBI,EAAWJ,EAAS,EAAE,IAItB,QAAQ,IAAI,uBAAwBA,CAAQ,EAC5CK,EAAYL,CAAQ,EACpBI,EAAWJ,EAAS,EAAE,GAGxB,SAAS,cAAc,IAAI,MAAM,kBAAkB,CAAC,CAExD,CAAG,EACH,CCzBA,MAAMM,EAAkB,SAAS,iBAAiB,gBAAgB,EAC5DC,EAAe,SAAS,cAAc,yBAAyB,EAC/DC,EAAc,SAAS,cAAc,wBAAwB,EAC7DC,EAAe,SAAS,cAAc,wBAAwB,EAC9DC,EAAiB,SAAS,cAAc,0BAA0B,EAClEC,EAAgB,SAAS,cAAc,sBAAsB,EAC7DC,EAAgB,SAAS,cAAc,iBAAiB,EAU9D,IAAIC,EAAgB,UAChBC,EAAgB,MAChBC,EAAQ,EACRC,EAAe,WACfC,EAAe,EAEnBR,EAAa,iBAAiB,QAASS,GAAS,CAC9C,MAAMC,EAAaD,EAAM,OAAO,QAAQ,wBAAwB,EAChE,GAAIC,EAAY,CACd,IAAIC,EAAcD,EACf,cAAc,2BAA2B,EACzC,YAAY,KAAM,EAClB,cACHX,EAAY,MAAM,QAAU,QAC5BS,EAAe,EACfJ,EAAgB,aAChBC,EAAgBM,EAChBJ,EAAe,WAAWI,CAAW,GACrCC,EAAWJ,EAAcD,CAAY,EACrCV,EAAgB,QAAQgB,GAAQA,EAAK,UAAU,OAAO,QAAQ,CAAC,EAC/D,SAAS,cAAc,2BAA2B,EAAE,UAAU,IAAI,QAAQ,CAC3E,CACH,CAAC,EAEDZ,EAAe,iBAAiB,QAASQ,GAAS,CAChD,MAAMK,EAAgBL,EAAM,OAAO,QAAQ,0BAA0B,EACrE,GAAIK,EAAe,CACjB,IAAIC,EAAiBD,EAClB,cAAc,4BAA4B,EAC1C,YAAY,KAAM,EAClB,cACHf,EAAY,MAAM,QAAU,QAC5BS,EAAe,EACfJ,EAAgB,aAChBC,EAAgBU,EAChBR,EAAe,aAAaQ,CAAc,GAC1CH,EAAWJ,EAAcD,CAAY,EACrCV,EAAgB,QAAQgB,GAAQA,EAAK,UAAU,OAAO,QAAQ,CAAC,EAC/D,SAAS,cAAc,2BAA2B,EAAE,UAAU,IAAI,QAAQ,CAC3E,CACH,CAAC,EAEDhB,EAAgB,QAAQgB,GAAQ,CAC9BA,EAAK,iBAAiB,QAAS,SAAUG,EAAG,CAC1CA,EAAE,eAAc,EACZA,EAAE,OAAO,UAAU,SAAS,SAAS,GACvCjB,EAAY,MAAM,QAAU,OAC5BS,EAAe,EACfJ,EAAgB,UAChBf,KACS2B,EAAE,OAAO,UAAU,SAAS,YAAY,GACjD,QAAQ,IAAIT,CAAY,EACxBR,EAAY,MAAM,QAAU,QAC5BS,EAAe,EACfJ,EAAgB,aAChBG,EAAe,WACfK,EAAWJ,EAAcD,CAAY,GAC5BS,EAAE,OAAO,UAAU,SAAS,WAAW,IAChDjB,EAAY,MAAM,QAAU,OAC5BS,EAAe,EACfJ,EAAgB,YAChBa,IAEN,CAAG,CACH,CAAC,EAEDlB,EAAY,iBAAiB,SAAUU,GAAS,CAC9CA,EAAM,eAAc,EAEpB,MAAMS,EADcT,EAAM,cAAc,SAAS,OACvB,MAAM,KAAM,EAAC,YAAW,EAC9CS,IAAU,KACdN,EAAWJ,EAAc,WAAWH,CAAa,YAAYa,CAAK,EAAE,EACpEnB,EAAY,MAAK,EACjBA,EAAY,SAAS,OAAO,OAC9B,CAAC,EAEDD,EAAa,iBAAiB,QAASW,GAAS,OAC9C,MAAMU,EAASV,EAAM,OAAO,QAAQ,kBAAkB,EACtD,GAAIU,EAMF,QALAC,EAAAtB,EACG,cAAc,yBAAyB,IAD1C,MAAAsB,EAEI,UAAU,OAAO,UACrBD,EAAO,UAAU,IAAI,QAAQ,EAC7BX,EAAe,SAASW,EAAO,WAAW,EAClCf,EAAa,CACnB,IAAK,UACHf,EAAamB,CAAY,EACzB,MACF,IAAK,aACHI,EAAWJ,EAAcD,CAAY,EACrC,MACF,IAAK,YACHU,EAAeT,CAAY,EAC3B,KACH,CAEL,CAAC,EAEDN,GAAA,MAAAA,EAAe,iBAAiB,QAAS,MAAMO,GAAS,CACtD,MAAMY,EAASZ,EAAM,OAAO,QAAQ,aAAa,EACjD,GAAIY,EAAQ,CACVZ,EAAM,eAAc,EACpB,MAAMa,EAAUD,EAAO,GACvBlB,EAAc,UAAU,IAAI,WAAW,EACvCR,EAAW2B,CAAO,EAClB,WAAW,IAAM,CACfhC,EAAmB,CAAE,GAAIgC,CAAO,CAAE,CACnC,EAAE,GAAI,EACPhB,EAAQgB,CACT,CACH,GAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,WAAW,IAAM,CACfhC,EAAmB,CAAE,GAAIgB,CAAK,CAAE,CACjC,EAAE,GAAI,CACT,CAAC,ECpID,MAAMH,EAAgB,SAAS,cAAc,iBAAiB,EACxDoB,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAO,SAAS,cAAc,cAAc,EAElDA,GAAA,MAAAA,EAAM,iBAAiB,SAAUf,GAAS,CACxCA,EAAM,eAAc,EACpB,MAAMgB,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAe,SAAS,cAAc,gBAAgB,EAC9CD,EAAW,MAAM,KAAO,EACtBC,EAAa,MAAM,KAAO,EAC1C,WAAW,MAAK,CAClB,GAEAvB,GAAA,MAAAA,EAAe,iBAAiB,QAASM,GAAS,CAC5CA,EAAM,OAAO,QAAQ,uBAAuB,GAC9CN,EAAc,UAAU,OAAO,WAAW,EAExCM,EAAM,OAAO,QAAQ,mBAAmB,IAC1CN,EAAc,UAAU,OAAO,WAAW,EAC1C,WAAW,IAAM,CACfoB,EAAY,UAAU,IAAI,WAAW,CACtC,EAAE,GAAG,GAEJd,EAAM,SAAWN,GACnBA,EAAc,UAAU,OAAO,WAAW,CAE9C,GAEAoB,GAAA,MAAAA,EAAa,iBAAiB,QAASd,GAAS,EAE5CA,EAAM,OAAO,QAAQ,qBAAqB,GAC1CA,EAAM,SAAWc,IAEjBA,EAAY,UAAU,OAAO,WAAW,CAE5C,GAEA,SAAS,iBAAiB,UAAW,GAAK,CACpC,EAAE,MAAQ,WACZpB,GAAA,MAAAA,EAAe,UAAU,OAAO,aAChCoB,GAAA,MAAAA,EAAa,UAAU,OAAO,aAElC,CAAC,EC1CD,MAAMI,EAAQ,SAAS,iBAAiB,gBAAgB,EAClDC,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,aAAa,EACxC,SAAS,iBAAiB,WAAW,EAItDF,EAAM,QAAQd,GAAQ,CACpBA,EAAK,iBAAiB,QAAS,UAAY,QACzCO,EAAA,SAAS,cAAc,uBAAuB,IAA9C,MAAAA,EAAiD,UAAU,OAAO,UAClE,KAAK,UAAU,IAAI,QAAQ,CAC/B,CAAG,CACH,CAAC,EAEDQ,EAAW,iBAAiB,QAAS,IAAM,CACzC,MAAME,EAAWF,EAAW,UAAU,OAAO,WAAW,EACxDC,EAAY,UAAU,OAAO,WAAW,EACxCD,EAAW,aAAa,gBAAiBE,CAAQ,CACnD,CAAC,EAED,SAAS,iBAAiB,QAAS,GAAK,CAClC,CAACF,EAAW,SAAS,EAAE,MAAM,GAAK,CAACC,EAAY,SAAS,EAAE,MAAM,IAClED,EAAW,UAAU,OAAO,WAAW,EACvCC,EAAY,UAAU,OAAO,WAAW,EACxCD,EAAW,aAAa,gBAAiB,OAAO,EAEpD,CAAC,EAED,SAAS,iBAAiB,QAAS,GAAK,CACtC,MAAMf,EAAO,EAAE,OAAO,QAAQ,WAAW,EACrCA,GAAQ,CAAC,EAAE,mBACb,EAAE,eAAc,EAChBkB,EAAelB,EAAK,aAAa,MAAM,CAAC,EAE5C,CAAC"}